<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>StudyBuddy</title>

  <style>
    /* 🌟 إعدادات عامة */
    body {
      margin: 0;
      font-family: "Tahoma", Arial, sans-serif;
      background: #f5f5f5;
      color: #222;
      direction: rtl;
      scroll-behavior: smooth; /* تنقل سلس */
    }
    h2 { margin-top: 0; }

    /* 🌟 الشريط العلوي */
    .topbar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: #0b6e4f;
      color: #fff;
      padding: 12px 16px;
    }
    .icon-btn {
      background: none;
      border: none;
      font-size: 22px;
      color: #fff;
      cursor: pointer;
    }

    /* 🌟 القائمة الجانبية */
    .side {
      position: fixed;
      top: 0; right: 0;
      width: 220px; height: 100%;
      background: #fff;
      border-left: 1px solid #ccc;
      transform: translateX(100%);
      transition: transform 0.3s ease-in-out;
      z-index: 100;
    }
    .side.show { transform: translateX(0); }
    .side ul { list-style: none; margin: 0; padding: 0; }
    .side ul li {
      padding: 12px;
      cursor: pointer;
      border-bottom: 1px solid #eee;
    }
    .side ul li.active,
    .side ul li:hover { background: #0b6e4f; color: #fff; }

    .side-footer {
      padding: 12px;
      font-size: 12px;
      text-align: center;
      color: #777;
    }

    /* 🌟 المحتوى */
    main { padding: 16px; }
    .view { display: none; }
    .view.active { display: block; }

    /* 🌟 البطاقات */
    .card {
      background: #fff;
      border-radius: 8px;
      padding: 15px;
      margin-bottom: 15px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }

    /* 🌟 المؤقت */
    .timer-card { text-align: center; }
    #timerDisplay { font-size: 42px; margin: 15px 0; }
    .timer-controls button { margin: 5px; padding: 8px 12px; }

    /* 🌟 الملاحظات */
    textarea {
      width: 100%;
      min-height: 120px;
      padding: 10px;
      margin-bottom: 10px;
      font-family: inherit;
    }

    /* 🌟 الفوتر */
    footer {
      text-align: center;
      background: #eee;
      padding: 10px;
      font-size: 13px;
      color: #444;
    }
  </style>
</head>
<body>
  <!-- 🌟 الشريط العلوي -->
  <header class="topbar">
    <h2>📚 StudyBuddy</h2>
    <button id="menuBtn" class="icon-btn">☰</button>
  </header>

  <!-- 🌟 القائمة الجانبية -->
  <nav id="sidebar" class="side">
    <ul>
      <li data-view="home" class="active">🏠 الرئيسية</li>
      <li data-view="timer">⏱️ المؤقت</li>
      <li data-view="notes">📝 الملاحظات</li>
    </ul>
    <div class="side-footer">StudyBuddy © 2025</div>
  </nav>

  <!-- 🌟 المحتوى -->
  <main>
    <!-- الرئيسية -->
    <section id="home" class="view active">
      <div class="card">
        <h2>مرحباً 👋</h2>
        <p>هذا تطبيق بسيط يساعدك على تنظيم وقتك وتدوين ملاحظاتك أثناء المذاكرة.</p>
      </div>
    </section>

    <!-- المؤقت -->
    <section id="timer" class="view">
      <div class="card timer-card">
        <h2>⏱️ المؤقت</h2>
        <div id="timerDisplay">25:00</div>
        <div class="timer-controls">
          <button id="startBtn">▶️ بدء</button>
          <button id="pauseBtn">⏸️ إيقاف</button>
          <button id="resetBtn">🔄 إعادة</button>
          <br>
          <button id="incBtn">➕ دقيقة</button>
          <button id="decBtn">➖ دقيقة</button>
        </div>
      </div>
    </section>

    <!-- الملاحظات -->
    <section id="notes" class="view">
      <div class="card">
        <h2>📝 الملاحظات</h2>
        <textarea id="notesArea" placeholder="اكتب ملاحظاتك هنا..."></textarea>
        <button id="saveNotes">💾 حفظ</button>
      </div>
    </section>
  </main>

  <!-- الفوتر -->
  <footer>تطبيق StudyBuddy © 2025</footer>

  <!-- 🎵 صوت التنبيه -->
  <audio id="alarmSound">
    <source src="https://actions.google.com/sounds/v1/alarms/alarm_clock.ogg" type="audio/ogg">
  </audio>

  <script>
    // 🌟 التنقل بين الصفحات
    const menuBtn = document.getElementById("menuBtn");
    const sidebar = document.getElementById("sidebar");
    const navItems = sidebar.querySelectorAll("li");
    const views = document.querySelectorAll(".view");

    menuBtn.addEventListener("click", () => {
      sidebar.classList.toggle("show");
    });

    navItems.forEach(li => {
      li.addEventListener("click", () => {
        navItems.forEach(n => n.classList.remove("active"));
        li.classList.add("active");
        views.forEach(v => v.classList.remove("active"));
        document.getElementById(li.dataset.view).classList.add("active");
        sidebar.classList.remove("show");
      });
    });

    // 🌟 المؤقت
    let timeLeft = 25 * 60, timer = null, running = false;
    const timerDisplay = document.getElementById("timerDisplay");
    const alarmSound = document.getElementById("alarmSound");

    function renderTime() {
      let m = Math.floor(timeLeft / 60).toString().padStart(2, "0");
      let s = (timeLeft % 60).toString().padStart(2, "0");
      timerDisplay.textContent = `${m}:${s}`;
    }

    function startTimer() {
      if (!running) {
        running = true;
        timer = setInterval(() => {
          if (timeLeft > 0) {
            timeLeft--; renderTime();
          } else {
            clearInterval(timer);
            running = false;
            alarmSound.play(); // 🔔 تشغيل صوت
            alert("⏰ انتهى الوقت!");
          }
        }, 1000);
      }
    }
    function pauseTimer(){ clearInterval(timer); running = false; }
    function resetTimer(){ pauseTimer(); timeLeft=25*60; renderTime(); }
    function incTime(){ timeLeft+=60; renderTime(); }
    function decTime(){ if(timeLeft>60){ timeLeft-=60; renderTime(); } }

    document.getElementById("startBtn").onclick = startTimer;
    document.getElementById("pauseBtn").onclick = pauseTimer;
    document.getElementById("resetBtn").onclick = resetTimer;
    document.getElementById("incBtn").onclick = incTime;
    document.getElementById("decBtn").onclick = decTime;
    renderTime();

    // 🌟 الملاحظات
    const notesArea = document.getElementById("notesArea");
    const saveBtn = document.getElementById("saveNotes");
    notesArea.value = localStorage.getItem("studyNotes") || "";
    saveBtn.addEventListener("click", ()=>{
      localStorage.setItem("studyNotes", notesArea.value);
      alert("✅ تم حفظ الملاحظات");
    });
  </script>
</body>
</html>
